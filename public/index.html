<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href="<%= BASE_URL %>favicon.ico" />
    <title>login</title>
      <link href='https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons' rel="stylesheet">
    </head>
    <style>
       .container {
           display: flex;
           align-items: center;
           justify-content: center;     
       }
       .centered {
       max-width:80%;
       margin-bottom: 20%;
       }
    </style>
    
    <body>
    <noscript>
      <strong
        >We're sorry but login doesn't work properly without JavaScript enabled.
        Please enable it to continue.</strong
      >
    </noscript>
    <header class="mdc-top-app-bar">
      <div class="mdc-top-app-bar__row">
        <section
          class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start"
        >
          <a
            href="#"
            id="menu"
            class="material-icons mdc-top-app-bar__navigation-icon"
            >menu</a
          >
          <span class="mdc-top-app-bar__title">WebComponent</span>
        </section>
      </div>
    </header>

    <div class="container">
      <my-partner
        id="my_partner"
        backend="http://localhost:9001/partner"
        interface="VN"
        modus="w"
        title="partner"
      >
      </my-partner>
    </div>
  </body>
  <!-- the login Component emits a data Object, which you can catch outside the component 
    it logs out the requests payload-->
  <script>
    var loginComponent = document.querySelector("my-partner");
    var menu = document.querySelector("#menu");
    loginComponent.addEventListener("clicked", function(data) {
      let payload = data.detail[0];
      console.log(payload["token"]);
      console.log(payload["status"]);
      loginComponent.style.display = "none";
      //react on the response
      if (payload["status"] == "200") {
        alert("Logged In");
      } else {
        alert("Permission denied");
      }
    });

    loginComponent.style.display = "none";
    menu.addEventListener("click", function() {
      loginComponent.style.display = "block";
    });
  </script>
</html>
